@tailwind base;
@tailwind components;
@tailwind utilities;

@import url('https://fonts.googleapis.com/css2?family=Outfit:wght@400;600;700;800&display=swap');

@layer base {
  :root {
    --background: 211 51% 9%;
    /* #0B1622 */
    --foreground: 210 40% 98%;

    --card: 211 51% 13%;
    /* Slightly lighter than bg */
    --card-foreground: 210 40% 98%;

    --popover: 211 51% 13%;
    --popover-foreground: 210 40% 98%;

    --primary: 188 86% 53%;
    /* #22D3EE (Cyan) */
    --primary-foreground: 222 47% 11%;

    --secondary: 351 95% 71%;
    /* #FB7185 (Rose) */
    --secondary-foreground: 222 47% 11%;

    --muted: 211 30% 20%;
    --muted-foreground: 215 25% 65%;

    --accent: 270 70% 60%;
    --accent-foreground: 210 40% 98%;

    --destructive: 0 84% 60%;
    --destructive-foreground: 210 40% 98%;

    --border: 211 30% 25%;
    --input: 211 30% 25%;
    --ring: 188 86% 53%;

    --radius: 1rem;

    /* Game-specific tokens */
    --x-color: 188 86% 53%;
    /* #22D3EE */
    --o-color: 351 95% 71%;
    /* #FB7185 */
    --cell-bg: 211 51% 16%;
    --cell-hover: 211 51% 20%;
    --glow-x: 0 0 35px hsl(188 86% 53% / 0.8);
    --glow-o: 0 0 35px hsl(351 95% 71% / 0.8);
    --win-glow: 0 0 50px hsl(48 100% 60% / 0.9);
  }

  .dark {
    --background: 222 47% 11%;
    --foreground: 210 40% 98%;
    --card: 222 47% 15%;
    --card-foreground: 210 40% 98%;
    --popover: 222 47% 15%;
    --popover-foreground: 210 40% 98%;
    --primary: 16 100% 66%;
    --primary-foreground: 222 47% 11%;
    --secondary: 183 74% 55%;
    --secondary-foreground: 222 47% 11%;
    --muted: 222 30% 20%;
    --muted-foreground: 215 20% 65%;
    --accent: 270 70% 60%;
    --accent-foreground: 210 40% 98%;
    --destructive: 0 84% 60%;
    --destructive-foreground: 210 40% 98%;
    --border: 222 30% 25%;
    --input: 222 30% 25%;
    --ring: 16 100% 66%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground font-outfit;
  }
}

@layer utilities {
  .text-x {
    color: hsl(var(--x-color));
  }

  .text-o {
    color: hsl(var(--o-color));
  }

  .bg-cell {
    background-color: hsl(var(--cell-bg));
  }

  .bg-cell-hover {
    background-color: hsl(var(--cell-hover));
  }

  .glow-x {
    box-shadow: var(--glow-x);
  }

  .glow-o {
    box-shadow: var(--glow-o);
  }

  .glow-win {
    box-shadow: var(--win-glow);
  }
}

@layer components {
  .game-cell {
    @apply bg-cell rounded-2xl flex items-center justify-center text-6xl font-extrabold transition-all duration-200 ease-out cursor-pointer hover:bg-cell-hover active:scale-95;
  }

  .game-cell:disabled {
    @apply cursor-default hover:bg-cell active:scale-100;
  }

  .game-cell-x {
    @apply text-x glow-x;
  }

  .game-cell-o {
    @apply text-o glow-o;
  }

  .game-cell:disabled.win-cell {
    @apply active:scale-105;
  }

  .win-cell {
    @apply glow-win scale-105;
  }
}

/* Animations */
@keyframes pop-in {
  0% {
    transform: scale(0);
    opacity: 0;
  }

  50% {
    transform: scale(1.2);
  }

  100% {
    transform: scale(1);
    opacity: 1;
  }
}

@keyframes pulse-glow {

  0%,
  100% {
    opacity: 1;
  }

  50% {
    opacity: 0.7;
  }
}

@keyframes shake {

  0%,
  100% {
    transform: translateX(0);
  }

  25% {
    transform: translateX(-5px);
  }

  75% {
    transform: translateX(5px);
  }
}

@keyframes float {

  0%,
  100% {
    transform: translateY(0);
  }

  50% {
    transform: translateY(-10px);
  }
}

.animate-pop-in {
  animation: pop-in 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
}

.animate-pulse-glow {
  animation: pulse-glow 1.5s ease-in-out infinite;
}

.animate-shake {
  animation: shake 0.5s ease-in-out;
}

.animate-float {
  animation: float 3s ease-in-out infinite;
}

@keyframes slide-out-up {
  0% {
    transform: translateY(0);
    opacity: 1;
  }

  100% {
    transform: translateY(-100%);
    opacity: 0;
  }
}

@keyframes slide-in-up {
  0% {
    transform: translateY(100%);
    opacity: 0;
  }

  100% {
    transform: translateY(0);
    opacity: 1;
  }
}

.animate-slide-out-up {
  animation: slide-out-up 0.3s ease-in-out forwards;
}

.animate-slide-in-up {
  animation: slide-in-up 0.3s ease-in-out forwards;
}

@keyframes stamp {
  0% {
    transform: scale(3) rotate(-15deg);
    opacity: 0;
  }

  70% {
    transform: scale(0.9) rotate(5deg);
    opacity: 1;
  }

  100% {
    transform: scale(1) rotate(0deg);
    opacity: 1;
  }
}

.animate-stamp {
  animation: stamp 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
}